<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Luxe Lagoon{% endblock %}</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'main/css/style.css' %}">
    {% block extra_css %}{% endblock %}
</head>
<body>

<nav>
    <div>
        <a href="{% url 'about' %}">О нас</a>
        <a href="{% url 'contacts' %}">Контакты</a>
        <a href="{% url 'services' %}">Услуги</a>
        <a href="{% url 'my_bookings' %}">Мои заявки</a>
        {% if user.is_authenticated and user.specialist %}
            <a href="{% url 'my_slots' %}">Мои слоты</a>
        {% endif %}
    </div>
    <div class="menu-icon" onclick="openSidebar()">⋮</div>
</nav>

<div class="sidebar" id="sidebar">
    <span class="closebtn" onclick="closeSidebar()">×</span>
    <div class="sidebar-content" id="auth-section">
        {% if user.is_authenticated %}
            <form method="post" action="{% url 'logout' %}" style="display:inline;">
                {% csrf_token %}
                <button type="submit" class="button">Выйти</button>
            </form>
        {% else %}
            <a href="{% url 'login' %}">Вход</a>
            <a href="{% url 'register' %}">Регистрация</a>
        {% endif %}
    </div>
</div>

<!-- Отображение сообщений -->
{% if messages %}
    <div class="messages">
        {% for message in messages %}
            <div class="message {{ message.tags }}">{{ message }}</div>
        {% endfor %}
    </div>
{% endif %}

<div class="container">
    {% block content %}{% endblock %}
</div>


<footer>
    Luxe Lagoon - Все права защищены
</footer>

<script>
    function openSidebar() {
        document.getElementById("sidebar").style.width = "300px";
    }

    function closeSidebar() {
        document.getElementById("sidebar").style.width = "0";
        hideForms();
    }

    function showLogin() {
        hideForms();
        document.getElementById("login-form").style.display = "block";
    }

    function showRegister() {
        hideForms();
        document.getElementById("register-form").style.display = "block";
    }

    function hideForms() {
        var loginForm = document.getElementById("login-form");
        var registerForm = document.getElementById("register-form");
        if (loginForm) loginForm.style.display = "none";
        if (registerForm) registerForm.style.display = "none";
    }
    </script>
{% block extra_js %}{% endblock %}
</body>
</html>
